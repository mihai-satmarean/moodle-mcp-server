# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    properties:
      MOODLE_API_URL:
        type: string
        description: URL to your Moodle webservice endpoint
        default: "https://your-moodle.com/webservice/rest/server.php"
      MOODLE_API_TOKEN:
        type: string
        description: Your Moodle API token with appropriate permissions
      MOODLE_COURSE_ID:
        type: string
        description: Default course ID for course-specific operations (optional for admin tools)
        default: "1"
    required: ["MOODLE_API_URL", "MOODLE_API_TOKEN"]
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => ({ 
      command: 'node', 
      args: ['./build/index.js'],
      env: {
        MOODLE_API_URL: config.MOODLE_API_URL,
        MOODLE_API_TOKEN: config.MOODLE_API_TOKEN,
        MOODLE_COURSE_ID: config.MOODLE_COURSE_ID || "1"
      }
    })
  exampleConfig:
    MOODLE_API_URL: "https://platforma.scoalainformala.ro/webservice/rest/server.php"
    MOODLE_API_TOKEN: "your_moodle_api_token_here"
    MOODLE_COURSE_ID: "1"






